# -------------- 核心目标架构（仅AX5普通版，无冗余）--------------
CONFIG_TARGET_qualcommax=y
CONFIG_TARGET_qualcommax_ipq60xx=y
# CONFIG_TARGET_MULTI_PROFILE is not set
CONFIG_TARGET_DEVICE_qualcommax_ipq60xx_DEVICE_redmi_ax5=y
CONFIG_TARGET_PER_DEVICE_ROOTFS=y

# -------------- 硬件适配（256MB内存+70MB分区适配）--------------
CONFIG_ATH11K_MEM_PROFILE_512M=y
CONFIG_IPQ_MEM_PROFILE_256=y
CONFIG_KERNEL_IPQ_MEM_PROFILE=256
# 最高压缩级别（核心减体积）
CONFIG_TARGET_ROOTFS_SQUASHFS=y
CONFIG_TARGET_SQUASHFS_COMPRESSION_LZMA=y
CONFIG_TARGET_SQUASHFS_COMPRESSION_LEVEL=9
# 关闭内核调试（减体积）
CONFIG_KERNEL_DEBUG_KERNEL is not set
CONFIG_KERNEL_DEBUG_INFO is not set

# -------------- CPU性能优化（仅保留核心）--------------
CONFIG_KERNEL_CPU_FREQ=y
CONFIG_KERNEL_CPU_FREQ_DEFAULT_GOV_SCHEDUTIL=y
CONFIG_KERNEL_CPU_FREQ_GOV_SCHEDUTIL=y
CONFIG_PACKAGE_kmod-cpufreq=y
CONFIG_PACKAGE_luci-app-cpufreq=y
CONFIG_PACKAGE_luci-i18n-cpufreq-zh-cn=y

# -------------- 轻量NSS（极致精简，仅核心转发）--------------
CONFIG_GNUTLS_ALPN=y
CONFIG_GNUTLS_OCSP=y
CONFIG_NSS_DRV_IGS_ENABLE=y
CONFIG_NSS_DRV_MAPT_ENABLE=y
CONFIG_NSS_DRV_SHAPER_ENABLE=y
CONFIG_NSS_FIRMWARE_VERSION_12_2=y
CONFIG_KERNEL_NSS=y
CONFIG_KERNEL_NSS_DMA=y
# 仅保留必需NSS模块
CONFIG_PACKAGE_kmod-qca-nss=y
CONFIG_PACKAGE_kmod-qca-nss-drv=y
CONFIG_PACKAGE_kmod-qca-nss-drv-igs=y
CONFIG_PACKAGE_kmod-qca-nss-drv-map-t=y
CONFIG_PACKAGE_kmod-qca-nss-drv-shaper=y

# -------------- 内核配置（深度精简）--------------
CONFIG_KERNEL_ARM_PMU=y
CONFIG_KERNEL_CFQ_GROUP_IOSCHED=y
CONFIG_KERNEL_NET_CLS_CGROUP=y
CONFIG_KERNEL_TRANSPARENT_HUGEPAGE_MADVISE=y
CONFIG_KERNEL_ZRAM_BACKEND_LZO=y
# 关闭所有非必需内核功能
# CONFIG_KERNEL_CGROUP_FREEZER is not set
# CONFIG_KERNEL_HUGETLB_PAGE is not set
# CONFIG_KERNEL_PERF_EVENTS is not set
# CONFIG_KERNEL_CGROUP_DEVICE is not set

# -------------- SQM（仅核心功能）--------------
CONFIG_PACKAGE_kmod-sched-cake=y
CONFIG_PACKAGE_kmod-sched-core=y
CONFIG_PACKAGE_luci-app-sqm=y
CONFIG_PACKAGE_sqm-scripts=y
CONFIG_PACKAGE_luci-i18n-sqm-zh-cn=y

# -------------- Turbo ACC（仅核心）--------------
CONFIG_PACKAGE_luci-app-turboacc=y
CONFIG_PACKAGE_luci-i18n-turboacc-zh-cn=y

# -------------- 完整WiFi驱动（精简冗余）--------------
CONFIG_ATH11K=y
CONFIG_ATH11K_DEBUGFS is not set  # 关闭WiFi调试（减体积）
CONFIG_PACKAGE_kmod-ath=y
CONFIG_PACKAGE_kmod-ath11k=y
CONFIG_PACKAGE_kmod-cfg80211=y
CONFIG_PACKAGE_kmod-mac80211=y
CONFIG_PACKAGE_wpad-basic-mbedtls=m

# -------------- 基础网络模块（仅必需）--------------
CONFIG_PACKAGE_kmod-bonding=y
CONFIG_PACKAGE_kmod-ifb=y
CONFIG_PACKAGE_kmod-ipt-conntrack=y
CONFIG_PACKAGE_kmod-ipt-core=y
CONFIG_PACKAGE_kmod-ipt-nat=y
CONFIG_PACKAGE_kmod-nf-ipt=y
CONFIG_PACKAGE_kmod-nls-utf8=y
CONFIG_PACKAGE_kmod-tun=y
CONFIG_PACKAGE_kmod-zram=y

# 彻底剔除USB（无残留）
# CONFIG_PACKAGE_kmod-usb-* is not set

# -------------- 依赖库（深度精简）--------------
CONFIG_PACKAGE_libatomic=y
CONFIG_PACKAGE_libcap=y
CONFIG_PACKAGE_libcurl=m
CONFIG_LIBCURL_NGHTTP2 is not set  # 关闭HTTP2（减体积）
CONFIG_PACKAGE_libgnutls=m
CONFIG_PACKAGE_libip4tc=y
CONFIG_PACKAGE_liblua=y
CONFIG_PACKAGE_liblucihttp=y
CONFIG_PACKAGE_liblucihttp-lua=y
CONFIG_PACKAGE_libstdcpp=y
CONFIG_PACKAGE_libubus-lua=y
CONFIG_PACKAGE_libxtables=y
# 关闭冗余依赖
# CONFIG_PACKAGE_libavahi-client is not set
# CONFIG_PACKAGE_libbpf is not set
# CONFIG_PACKAGE_libmount is not set

# -------------- LuCI（保留Argon+核心，极致精简）--------------
CONFIG_LUCI_LANG_zh_Hans=y
CONFIG_PACKAGE_lua=y
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-base=y
CONFIG_PACKAGE_luci-compat=y
CONFIG_PACKAGE_luci-i18n-base-zh-cn=y
CONFIG_PACKAGE_luci-mod-admin-full=y
CONFIG_PACKAGE_luci-mod-network=y
CONFIG_PACKAGE_luci-mod-status=y
CONFIG_PACKAGE_luci-mod-system=y
# 保留Argon主题（核心需求）
CONFIG_PACKAGE_luci-theme-argon=y
CONFIG_PACKAGE_luci-app-argon-config=y
CONFIG_PACKAGE_luci-i18n-argon-config-zh-cn=y
# 剔除bootstrap主题（抵消Argon体积）
# CONFIG_PACKAGE_luci-theme-bootstrap is not set
# 剔除所有非核心插件
# CONFIG_PACKAGE_luci-app-ddns is not set
# CONFIG_PACKAGE_luci-app-homeproxy is not set
# CONFIG_PACKAGE_luci-app-netspeedtest is not set
# CONFIG_PACKAGE_luci-app-passwall is not set
# CONFIG_PACKAGE_luci-app-ttyd is not set
# CONFIG_PACKAGE_luci-app-upnp is not set
# CONFIG_PACKAGE_luci-app-wol is not set
# CONFIG_PACKAGE_luci-app-zerotier is not set

# -------------- 基础工具（仅必需）--------------
CONFIG_PACKAGE_block-mount=y
CONFIG_PACKAGE_cgi-io=y
CONFIG_PACKAGE_default-settings=y
CONFIG_PACKAGE_default-settings-chn=y
CONFIG_PACKAGE_firewall=m
CONFIG_PACKAGE_ip-tiny=y
CONFIG_PACKAGE_rpcd=y
CONFIG_PACKAGE_rpcd-mod-file=y
CONFIG_PACKAGE_rpcd-mod-iwinfo=y
CONFIG_PACKAGE_rpcd-mod-luci=y
CONFIG_PACKAGE_tc-tiny=y
CONFIG_PACKAGE_uhttpd=y
CONFIG_PACKAGE_uhttpd-mod-ubus=y
# 关闭BusyBox冗余
CONFIG_BUSYBOX_CUSTOM=y
CONFIG_BUSYBOX_CONFIG_FEATURE_IPV6=y
# CONFIG_BUSYBOX_CONFIG_LSUSB is not set
# CONFIG_BUSYBOX_CONFIG_FEATURE_EDITING is not set
# 剔除所有重型工具
# CONFIG_PACKAGE_coreutils is not set
# CONFIG_PACKAGE_curl is not set
# CONFIG_PACKAGE_docker is not set
# CONFIG_PACKAGE_iperf3 is not set
# CONFIG_PACKAGE_sing-box is not set

# -------------- 附加配置（极致精简）--------------
CONFIG_boost-compile-visibility-hidden=y
CONFIG_boost-runtime-shared=y
# CONFIG_TARGET_ROOTFS_INITRAMFS is not set
# CONFIG_COREMARK_ENABLE_MULTITHREADING is not set
